# [双关键字排序 - 计数排序+基数排序]()

```c++
#include <bits/stdc++.h>

const long long N = 1e6 + 100;

// 计数排序板子
struct SA {
    long long a[N], x[N];
    long long cnt[N], sa[N];
    long long n;
    
    void init(long long low[], long long hig[], long long len) {
        n = len;
        for (long long i = 1; i <= n; i ++) {
            a[i] = i; x[i] = low[i];
        }
        cnt_sort(n);
        for (long long i = 1; i <= n; i ++) a[i] = sa[i];
        for (long long i = 1; i <= n; i ++) x[i] = hig[i];
        cnt_sort(n);
    }
    
    void cnt_sort(long long len) {
        long long mx = 0;
        for (long long i = 1; i <= len; i ++) cnt[x[a[i]]] ++, mx = std::max(mx, x[a[i]]);
        for (long long i = 1; i <= mx; i ++) cnt[i] += cnt[i - 1];
        for (long long i = len; i; i --) sa[cnt[x[a[i]]] --] = a[i];
        for (long long i = 1; i <= mx; i ++) cnt[i] = 0;
    }
};

SA sa;
long long n;
long long low[N], hig[N];

void solve() {
    std::cin >> n;
    for (long long i = 1; i <= n; i ++) {
        std::cin >> hig[i] >> low[i];
    }
    sa.init(low, hig, n);
    for (long long i = 1; i <= n; i ++) {
        std::cout << hig[sa.sa[i]] << ' ' << low[sa.sa[i]] << '\n';
    }
}

int main() {
    std::ios::sync_with_stdio(0);
    std::cin.tie(0);
    std::cout.tie(0);
    
    solve();
    return 0;
}
```